<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Mega Cash ‚Äì Crea tu usuario</title>
  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap"
    rel="stylesheet"
  />
  <!-- Lottie Player -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <!-- Stylesheet -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Preloader Overlay -->
  <div id="preloader">
    <lottie-player
      src="videos/slot-machine.json"
      background="transparent"
      speed="1"
      style="width:150px; height:150px;"
      autoplay
      loop
    ></lottie-player>
  </div>

  <!-- Theme Toggle -->
  <button id="themeToggle" aria-label="Cambiar tema" class="theme-toggle">üåô</button>

  <!-- Screen √öNICA -->
  <div class="screen">
    <!-- Form Card -->
    <div class="card">
      <div class="emoji">üé∞</div>
      <h1 class="title">200% EXTRA EN TU CARGA</h1>
      <p class="subtitle">
        <span class="fire">üî•</span>
        ESCRIB√ç TU NOMBRE Y CREA TU USUARIO
        <span class="fire">üî•</span>
      </p>
      <p class="highlight">RETIROS ILIMITADOS</p>
      <div class="input-group">
        <input
          type="text"
          id="username"
          placeholder="INserta tu nombre"
          autocomplete="off"
        />
      </div>
      <a href="#" id="ctaButton" class="btn">
        ¬°CREA TU USUARIO!
        <img src="images/whatsapp-icon.svg" alt="WhatsApp icon" class="icon" />
      </a>
    </div>

    <!-- Carousel Section -->
    <section class="carousel-section">
      <h2>Galer√≠a de Juegos</h2>
      <div class="carousel">
        <ul class="carousel-track" id="track">
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide1.jpg" class="lazy" alt="Slide 1" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide2.jpg" class="lazy" alt="Slide 2" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide3.jpg" class="lazy" alt="Slide 3" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide4.jpg" class="lazy" alt="Slide 4" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide5.jpg" class="lazy" alt="Slide 5" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide6.jpg" class="lazy" alt="Slide 6" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide7.jpg" class="lazy" alt="Slide 7" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide8.jpg" class="lazy" alt="Slide 8" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide9.jpg" class="lazy" alt="Slide 9" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide10.jpg" class="lazy" alt="Slide 10" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide11.jpg" class="lazy" alt="Slide 11" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide12.jpg" class="lazy" alt="Slide 12" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide13.jpg" class="lazy" alt="Slide 13" loading="lazy" /></li>
          <li class="carousel-item"><div class="skeleton"></div><img data-src="images/slide14.jpg" class="lazy" alt="Slide 14" loading="lazy" /></li>
        </ul>
      </div>
      <div class="dots" id="dots"></div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials-section">
      <h2>Lo que dicen nuestros usuarios</h2>
      <div class="testimonials-carousel" id="testimonialsCarousel">
        <!-- testimonials-carousel.js inyecta los items aqu√≠ -->
      </div>
    </section>
  </div>

  <!-- Fallback Mobile Content -->
  <main class="content">
    <section class="info">
      <h2>¬øPor qu√© Mega Cash?</h2>
      <p>Con Mega Cash viv√≠s la emoci√≥n de un casino en la palma de tu mano. Bono de bienvenida, retiros inmediatos y soporte 24/7.</p>
    </section>
  </main>

  <!-- Scripts -->
  <script>
    (function(){
      // Preloader
      window.addEventListener('load', ()=>{
        const pre = document.getElementById('preloader');
        pre.style.opacity = 0;
        setTimeout(()=> pre.remove(), 600);
      });

      // Theme Toggle
      const toggle = document.getElementById('themeToggle');
      toggle.addEventListener('click', ()=>{
        document.documentElement.classList.toggle('light');
        toggle.textContent = document.documentElement.classList.contains('light') ? 'üåû' : 'üåô';
      });

      // WhatsApp Redirect
      document.getElementById('ctaButton').addEventListener('click', e=>{
        e.preventDefault();
        const name = document.getElementById('username').value.trim();
        if(!name){
          const inp = document.getElementById('username');
          inp.classList.add('shake');
          setTimeout(()=> inp.classList.remove('shake'), 500);
          return;
        }
        location.href = `https://wa.me/54911XXXXXXXX?text=Hola%20soy%20${encodeURIComponent(name)}`;
      });

      // Lazy-load images
      const lazyImgs = [];
      document.querySelectorAll('.lazy').forEach(img=> lazyImgs.push(img));
      const obs = new IntersectionObserver(entries=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            const img = e.target;
            img.src = img.dataset.src;
            img.onload = ()=> img.previousElementSibling.remove();
            obs.unobserve(img);
          }
        });
      }, {rootMargin:'50px'});
      lazyImgs.forEach(img=> obs.observe(img));

      // Carousel touch + dots
      const track = document.getElementById('track');
      const items = Array.from(track.children);
      const dots = document.getElementById('dots');
      let current = 0;
      items.forEach((_,i)=>{
        const d = document.createElement('button');
        d.className = 'dot' + (i===0?' active':'');
        d.addEventListener('click', ()=> moveTo(i));
        dots.appendChild(d);
      });
      function moveTo(i){
        const w = items[0].getBoundingClientRect().width + parseFloat(getComputedStyle(track).gap);
        track.style.transform = `translateX(-${w*i}px)`;
        dots.querySelector('.active').classList.remove('active');
        dots.children[i].classList.add('active');
        current = i;
      }
      let startX=0;
      track.addEventListener('touchstart',e=> startX=e.touches[0].pageX);
      track.addEventListener('touchend',e=>{
        const diff = startX - e.changedTouches[0].pageX;
        if(Math.abs(diff)>50){
          if(diff>0 && current < items.length-1) moveTo(current+1);
          if(diff<0 && current > 0) moveTo(current-1);
        }
      });
    })();
  </script>
  <script src="testimonials-carousel.js"></script>
</body>
</html>
